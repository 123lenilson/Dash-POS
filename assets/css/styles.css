/* RESET */
* { margin:0; padding:0; box-sizing:border-box; }
*:where(:not(html, iframe, canvas, img, svg, video, audio):not(svg *, symbol *)) { display: revert; }
a, button { cursor: revert; }
ol, ul, menu { list-style: none; }
img { max-inline-size: 100%; max-block-size: 100%; }
table { border-collapse: collapse; }
input, textarea { -webkit-user-select: auto; }
textarea { white-space: revert; }
meter { -webkit-appearance: revert; appearance: revert; }
:where(pre) { all: revert; }
::placeholder { color: unset; }
::marker { content: initial; }
:where([hidden]) { display: none; }
:where([contenteditable]:not([contenteditable="false"])) { -moz-user-modify: read-write; -webkit-user-modify: read-write; overflow-wrap: break-word; -webkit-line-break: after-white-space; -webkit-user-select: auto; }
:where([draggable="true"]) { -webkit-user-drag: element; }
:where(dialog:where([open])) { display: block; }
:focus-visible { outline: revert; }
html { font-size: 16px; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto; background: #f6f6f6; color: #2e2e48; font-size: 1rem; line-height: 1.5; overflow-x: hidden; }
a { color: inherit; text-decoration: none; }
button { font: inherit; background: none; border: none; }
@media (prefers-reduced-motion: reduce) { *, ::before, ::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; } }

/* LAYOUT */
.container { max-width: 1440px; margin: 0 auto; padding: 0 1rem; }
.container-fluid { width: 100%; padding: 0 1rem; }
.wrapper { display: grid; grid-template-columns: minmax(0, 3fr) minmax(0, 2fr); gap: 1rem; min-height: 100vh; }
@media (max-width: 760px) { .wrapper { grid-template-columns: minmax(0, 1fr); } }

/* HEADER */
.main-header { background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.main-header .container { display: flex; align-items: center; justify-content: space-between; padding-top: 1rem; padding-bottom: 1rem; }
.main-header .logo { display: flex; align-items: center; gap: 0.5rem; font-size: 1.25rem; font-weight: 700; }
.main-header .logo img { width: 2rem; height: 2rem; }
.main-nav { display: flex; gap: 0.25rem; }
@media (max-width: 890px) { .main-nav { display: none; position: fixed; top: 4.5rem; left: 0; right: 0; bottom: 0; background: #fff; z-index: 99; flex-direction: column; align-items: flex-start; padding: 1rem; } .main-header.nav-open .main-nav { display: flex; } }
.nav-link { padding: 0.5rem 1rem; border-radius: 0.25rem; transition: all 0.2s; }
.nav-link:hover, .nav-link.is-active { background: #e6f0ff; color: #0055ff; }
#mobileMenuBtn { display: none; }
@media (max-width: 890px) { #mobileMenuBtn { display: block; font-size: 1.5rem; padding: 0.25rem; } }

/* MAIN */
.main { padding: 1rem 0; }
#dateTime { color: #8b8fa3; font-size: 0.875rem; margin-bottom: 1rem; }

/* SEARCH */
.search-box { position: relative; margin-bottom: 1rem; }
.search-box input { width: 100%; padding: 0.75rem 2.5rem 0.75rem 1rem; border: 1px solid #e3e3ef; border-radius: 0.25rem; font-size: 1rem; }
.search-box input:focus { border-color: #0055ff; outline: none; }
.search-box button { position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); font-size: 1rem; color: #8b8fa3; }
.search-box button:not(:disabled) { cursor: pointer; }

/* CATEGORY SLIDER */
#categoryBar { margin-bottom: 1rem; position: relative; }
.cat-slider { display: flex; align-items: center; gap: 0.5rem; }
.cat-viewport { overflow-x: auto; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; flex: 1; }
.cat-track { display: flex; gap: 0.5rem; padding: 0.25rem 0; }
.cat-arrow { font-size: 1.5rem; width: 2rem; height: 2rem; display: flex; align-items: center; justify-content: center; color: #2e2e48; }
.cat-arrow:disabled { opacity: 0.3; cursor: not-allowed; }
.category { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border-radius: 1.5rem; background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.05); min-width: max-content; transition: all 0.2s; }
.category:hover, .category.is-active { background: #e6f0ff; color: #0055ff; }
.category .circle { font-size: 1.25rem; }
.category .meta { display: flex; flex-direction: column; }
.category .meta strong { font-size: 0.875rem; }
.category .meta small { font-size: 0.75rem; color: #8b8fa3; }
#categoryBar.has-left-shadow::before, #categoryBar.has-right-shadow::after { content: ''; position: absolute; top: 0; bottom: 0; width: 1rem; z-index: 1; }
#categoryBar.has-left-shadow::before { left: 0; background: linear-gradient(to right, rgba(246,246,246,1), rgba(246,246,246,0)); }
#categoryBar.has-right-shadow::after { right: 0; background: linear-gradient(to left, rgba(246,246,246,1), rgba(246,246,246,0)); }

/* PRODUCT GRID */
#productGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 1rem; }
.card { background: #fff; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,0.05); transition: all 0.2s; }
.card.is-selected { border: 2px solid #0055ff; }
.card .thumb { aspect-ratio: 4/3; background: #e3e3ef; }
.card .thumb img { width: 100%; height: 100%; object-fit: cover; }
.card .body { padding: 0.75rem; }
.card .title { font-size: 0.875rem; font-weight: 600; margin-bottom: 0.25rem; }
.card .badge { display: inline-block; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 0.25rem; background: #e6f0ff; color: #0055ff; margin-bottom: 0.25rem; }
.card .badge.na { background: #ffe6e6; color: #ff3333; }
.card .price { font-size: 0.875rem; font-weight: 600; margin-bottom: 0.25rem; }
.card .controls { display: flex; gap: 0.5rem; }
.card .qtybtn { flex: 1; padding: 0.5rem; border-radius: 0.25rem; background: #e6f0ff; color: #0055ff; font-weight: 600; }
.card .qtybtn:disabled { opacity: 0.5; cursor: not-allowed; }

/* CART */
.side { background: #fff; border-left: 1px solid #e3e3ef; padding: 1rem; }
@media (max-width: 760px) { .side { display: none; } }
.cart-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; }
.cart-header h2 { font-size: 1.125rem; font-weight: 600; }
#cartItemsCount { font-size: 0.875rem; color: #8b8fa3; }
#cartList { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; border-radius: 0.25rem; background: #f6f6f6; }
.cart-item .title { font-size: 0.875rem; font-weight: 600; }
.cart-item .meta { font-size: 0.75rem; color: #8b8fa3; }
.cart-item .meta strong { color: #2e2e48; }
.cart-item .right { display: flex; align-items: center; gap: 0.5rem; }
.cart-item .right .iconbtn { font-size: 1rem; padding: 0.25rem; border-radius: 0.25rem; background: #e6f0ff; color: #0055ff; width: 1.5rem; height: 1.5rem; display: flex; align-items: center; justify-content: center; }
.cart-item .right .iconbtn.del { background: #ffe6e6; color: #ff3333; }
#cartEmptyState { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #8b8fa3; font-size: 0.875rem; text-align: center; }
#cartEmptyState svg { width: 2rem; height: 2rem; margin-bottom: 0.5rem; }
.cart-totals { margin-top: auto; }
.cart-totals div { display: flex; justify-content: space-between; padding: 0.5rem 0; font-size: 0.875rem; }
.cart-totals div:last-child { font-weight: 600; }
.cart-actions { display: flex; gap: 0.5rem; margin-top: 1rem; }
.cart-actions button { flex: 1; padding: 0.75rem; border-radius: 0.25rem; font-weight: 600; }
#clearCart { background: #ffe6e6; color: #ff3333; }
#placeOrder { background: #0055ff; color: #fff; }

/* MOBILE CART */
#mobileCartBtn { display: none; position: fixed; bottom: 1rem; right: 1rem; z-index: 100; background: #0055ff; color: #fff; padding: 0.75rem; border-radius: 50%; font-size: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
#mobileCartBadge { position: absolute; top: -0.25rem; right: -0.25rem; background: #ff3333; color: #fff; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 1rem; }
@media (max-width: 760px) { #mobileCartBtn { display: grid; } }
#cartOverlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 100; display: none; }
#cartOverlay.is-open { display: flex; }
.cart-overlay-content { background: #fff; margin: auto auto 0; width: 100%; max-height: 80vh; border-radius: 0.5rem 0.5rem 0 0; padding: 1rem; overflow-y: auto; }
#cartListOverlay { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
#cartEmptyStateMobile { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #8b8fa3; font-size: 0.875rem; text-align: center; }
#cartEmptyStateMobile svg { width: 2rem; height: 2rem; margin-bottom: 0.5rem; }
#closeCartOverlay { position: absolute; top: 1rem; right: 1rem; font-size: 1.5rem; padding: 0.25rem; }

/* MODAL */
.pm-overlay { 
  position: fixed; 
  top: 0; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  background: rgba(0,0,0,0.5); 
  align-items: center; 
  justify-content: center; 
  z-index: 1000; 
  visibility: hidden; 
  opacity: 0; 
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out; 
}
.pm-overlay.is-open { 
  visibility: visible; 
  opacity: 1; 
}
.pm-dialog { 
  background: #fff; 
  border-radius: 0.5rem; 
  padding: 1.5rem; 
  width: 100%; 
  max-width: 400px; 
  box-shadow: 0 4px 8px rgba(0,0,0,0.2); 
  opacity: 0; 
  transform: translateY(20px); 
  transition: opacity 0.3s ease-out, transform 0.3s ease-out; 
}
.pm-overlay.is-open .pm-dialog { 
  opacity: 1; 
  transform: translateY(0); 
}
.pm-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.pm-header h2 { font-size: 1.25rem; font-weight: 600; }
.pm-close { font-size: 1.5rem; padding: 0.25rem; }
#pm-amount { font-size: 1.5rem; font-weight: 600; text-align: right; padding: 0.75rem; border: 1px solid #e3e3ef; border-radius: 0.25rem; margin-bottom: 1rem; }
.pm-keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; margin-bottom: 1rem; }
.pm-key { padding: 0.75rem; border-radius: 0.25rem; background: #e6f0ff; color: #0055ff; font-size: 1.25rem; text-align: center; cursor: pointer; }
.pm-key[data-key="C"], .pm-key[data-key="back"] { background: #ffe6e6; color: #ff3333; }
.pm-actions { display: flex; gap: 0.5rem; }
.pm-actions button { flex: 1; padding: 0.75rem; border-radius: 0.25rem; font-weight: 600; }
#pm-cancel { background: #ffe6e6; color: #ff3333; }
#pm-confirm { background: #0055ff; color: #fff; }